<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>GeminiAnswerBot</title>
  <link rel="stylesheet" type="text/css" href="../assets/popup.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="header-title">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: var(--accent-blue);"><path d="M12 2L14.472 9.528L22 12L14.472 14.472L12 22L9.528 14.472L2 12L9.528 9.528L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/></svg>
        <span>GeminiAnswerBot</span>
      </div>
      <div class="header-actions">
        <button id="rescanButton" class="icon-button" title="Rescan Page">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M21.5 2v6h-6m-13 14v-6h6M22 11.5A10 10 0 0 0 3.5 7.1L2 9.5M2 12.5a10 10 0 0 0 18.5 4.4l1.5-2.4"/></svg>
        </button>
        <button id="settingsButton" class="icon-button" title="Open Settings">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83a2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33a1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2a2 2 0 0 1-2-2v-.09a1.65 1.65 0 0 0-1-1.51a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0a2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2a2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83a2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2a2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0a2 2 0 0 1 0 2.83l-.06-.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2a2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></g></svg>
        </button>
      </div>
    </header>

    <main class="content-area">
      <div id="messageArea" class="loading-state">
        <div class="spinner"></div>
        <p>Analyzing Page...</p>
      </div>

      <div id="resultsWrapper" class="hidden">
        <div id="contentDisplayWrapper" class="card">
          <div class="card-header">
            <h2 class="card-title">Page Content</h2>
          </div>
          <div id="contentDisplay" class="card-body"></div>
        </div>

        <div id="answerContainer" class="card">
          <div class="card-header">
            <h2 class="card-title">Answer</h2>
            <div class="header-controls">
              <button id="retryAnswer" class="icon-button" title="Retry"></button>
              <button id="copyAnswer" class="icon-button" title="Copy"></button>
            </div>
          </div>
          <div id="answerDisplay" class="card-body"></div>
        </div>
        
        <div id="aiActionsWrapper" class="hidden">
          <button id="explanationButton" class="button-primary">Get Explanation</button>
        </div>

        <div id="explanationContainer" class="card hidden">
          <div class="card-header">
            <h2 class="card-title">Explanation</h2>
             <div class="header-controls">
                <button id="retryExplanation" class="icon-button" title="Retry"></button>
                <button id="copyExplanation" class="icon-button" title="Copy"></button>
            </div>
          </div>
          <div id="explanationDisplay" class="card-body"></div>
        </div>
      </div>
    </main>
  </div>
  <script src="../js/prompts.js"></script>
  <script src="../js/popup.js"></script>
</body>
</html>